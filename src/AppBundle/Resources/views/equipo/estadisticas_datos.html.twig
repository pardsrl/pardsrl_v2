{% import _self as macros %}

<div class="row">
    <div class="col-md-12">
        <div id="estadisticas-datos" class="box">
            <div class="box-header with-border">
                <h3 class="box-title">{{ intervencion.pozo | upper }} </h3>
                <div class=" pull-right">
                    <strong>Fecha
                        Inicio: </strong>{{ intervencion.fecha is empty ? "" : intervencion.fecha | date('d/m/Y H:i:s') }}
                </div>
            </div><!-- /.box-header -->
            <div class="box-body">
                <div class="row">
                    <div class="col-md-7">
                        <div class="col-md-12" style="margin-bottom: 10px;">
                            <h4 class="page-header" style="text-align: center;">ESTADO GENERAL</h4>

                            {{  macros.generarIndicadorLuminico('NINA',datos.estado_general.luminicas.nina,'div') }}

                            {{  macros.generarIndicadorLuminico('ONLINE',datos.estado_general.luminicas.online,'div') }}

                            <div class="col-md-4">ÚLTIMO DATO: {{ datos.estado_general.texto.udato }}</div>
                            <div class="col-md-6">
                                <ul class="nav nav-pills nav-stacked">

                                    <li>{{  macros.generarIndicadorLuminico('Peso',datos.estado_general.luminicas.peso,'a') }}</li>

                                    <li>{{  macros.generarIndicadorLuminico('Llave',datos.estado_general.luminicas.llave,'a') }}</li>

                                    <li>{{  macros.generarIndicadorLuminico('B Pozo',datos.estado_general.luminicas.b_pozo,'a') }}</li>
                                </ul>
                            </div><!-- /.col -->
                            <div class="col-md-6">
                                <ul class="nav nav-pills nav-stacked">
                                    <li>{{  macros.generarIndicadorLuminico('Viento',datos.estado_general.luminicas.viento,'a') }}</li>

                                    <li>{{  macros.generarIndicadorLuminico('H2SP',datos.estado_general.luminicas.h2sp,'a') }}</li>

                                    <li>{{  macros.generarIndicadorLuminico('H2SBP',datos.estado_general.luminicas.h2sbp,'a') }}</li>
                                </ul>
                            </div><!-- /.col -->
                        </div>
                        <div class="col-md-6">
                            <div style="text-align: center; font-weight:bold;">ACTUAL AUTOMÁTICO</div>
                            <ul class="nav nav-pills nav-stacked">

                                {% set valor = (estadistica_maniobra.actual_automatica is defined and estadistica_maniobra.actual_automatica.maniobra) ? estadistica_maniobra.actual_automatica.maniobra : "-" %}
                                <li><a href="#">Maniobra:<span class="pull-right text-green"><strong> {{ valor }}</strong></span></a></li>

                                {% set valor = (estadistica_maniobra.actual_automatica is defined and estadistica_maniobra.actual_automatica.iniciado) ? estadistica_maniobra.actual_automatica.iniciado : "-" %}
                                <li><a href="#">Inicio:<span class="pull-right text-green"><strong> {{ valor }}</strong></span></a></li>

                                {% set valor = (estadistica_maniobra.actual_automatica is defined and estadistica_maniobra.actual_automatica.parcial_maniobra) ? estadistica_maniobra.actual_automatica.parcial_maniobra : "-" %}
                                <li><a href="#">Parcial de maniobras:<span class="pull-right text-green"><strong> {{ valor }}</strong></span></a></li>

                                {% set valor = (estadistica_maniobra.actual_automatica is defined and estadistica_maniobra.actual_automatica.tiempo_parcial) ? estadistica_maniobra.actual_automatica.tiempo_parcial : "-" %}
                                <li><a href="#">Tiempo parcial:<span class="pull-right text-green"><strong> {{ valor }}</strong></span></a></li>

                                {% set valor = (estadistica_maniobra.actual_automatica is defined and estadistica_maniobra.actual_automatica.cant_alertas) ? estadistica_maniobra.actual_automatica.cant_alertas : "-" %}
                                <li><a href="#">Cant. Alertas:<span class="pull-right text-green"><strong> {{ valor }}</strong></span></a></li>

                                {% set valor = (estadistica_maniobra.actual_automatica is defined and estadistica_maniobra.actual_automatica.promedio_uh) ? estadistica_maniobra.actual_automatica.promedio_uh : "-" %}
                                <li><a href="#">Prom. Unidad/h:<span class="pull-right text-green"><strong> {{ valor }}</strong></span></a></li>


                            </ul>
                        </div><!-- /.col -->
                        <div class="col-md-6">
                            <div style="text-align: center; font-weight:bold;">ACTUAL ASISTIDO</div>
                            <ul class="nav nav-pills nav-stacked">
                                {% set valor = (estadistica_maniobra.actual_asistida is defined and estadistica_maniobra.actual_asistida.maniobra ) ? estadistica_maniobra.actual_asistida.maniobra : "-" %}
                                <li><a href="#">Maniobra:<span class="pull-right text-green"><strong> {{ valor }}</strong></span></a></li>

                                {% set valor = (estadistica_maniobra.actual_asistida is defined and estadistica_maniobra.actual_asistida.iniciado) ? estadistica_maniobra.actual_asistida.iniciado : "-" %}
                                <li><a href="#">Inicio:<span class="pull-right text-green"><strong> {{ valor }}</strong></span></a></li>

                                {% set valor = (estadistica_maniobra.actual_asistida is defined and estadistica_maniobra.actual_asistida.parcial_maniobra) ? estadistica_maniobra.actual_asistida.parcial_maniobra : "-" %}
                                <li><a href="#">Parcial de maniobras:<span class="pull-right text-green"><strong> {{ valor }}</strong></span></a></li>

                                {% set valor = (estadistica_maniobra.actual_asistida is defined and estadistica_maniobra.actual_asistida.tiempo_parcial) ? estadistica_maniobra.actual_asistida.tiempo_parcial : "-" %}
                                <li><a href="#">Tiempo parcial:<span class="pull-right text-green"><strong> {{ valor }}</strong></span></a></li>

                                {% set valor = (estadistica_maniobra.actual_asistida is defined and estadistica_maniobra.actual_asistida.cant_alertas) ? estadistica_maniobra.actual_asistida.cant_alertas : "-" %}
                                <li><a href="#">Cant. Alertas:<span class="pull-right text-green"><strong> {{ valor }}</strong></span></a></li>

                                {% set valor = (estadistica_maniobra.actual_asistida is defined and estadistica_maniobra.actual_asistida.promedio_uh) ? estadistica_maniobra.actual_asistida.promedio_uh : "-" %}
                                <li><a href="#">Prom. Unidad/h:<span class="pull-right text-green"><strong> {{ valor }}</strong></span></a></li>

                            </ul>
                        </div><!-- /.col -->
                    </div>
                    <div class="col-md-5" style="margin-top: 10px">
                        <h4 class="page-header" style="text-align: center;">HISTORICO POZO ACTUAL</h4>
                        <div class="col-md-6">
                            <ul class="nav nav-pills nav-stacked">
                                {% if datos.historico.t_total is defined %}
                                    <li><a href="#">Tiempo Total:<span class="pull-right text-green"><strong>{{ datos.historico.t_total }}</strong></span></a></li>
                                {% endif %}
                                {% if datos.historico.ftu is defined %}
                                    <li><a href="#">Factor tiempo útil: <span class="pull-right text-green"><strong>{{ datos.historico.ftu }}</strong></span></a></li>
                                {% endif %}
                                {% if datos.historico.t_maniobras is defined %}
                                    <li><a href="#">Tiempo Maniobras: <span class="pull-right text-green"><strong>{{ datos.historico.t_maniobras }}</strong></span></a></li>
                                {% endif %}
                            </ul>
                        </div><!-- /.col -->
                        <div class="col-md-6">
                            <ul class="nav nav-pills nav-stacked">
                                <div><i class="fa fa-arrow-up text-green"></i>&nbsp;<strong>SACA</strong></div>
                                {% if datos.historico.saca.cant_vb is defined %}
                                    <li><a href="#">Cant Vb:<span class="pull-right text-green"><strong> {{ datos.historico.saca.cant_vb }}</strong></span></a></li>
                                {% endif %}
                                {% if datos.historico.saca.prom_vb is defined %}
                                    <li><a href="#">Prom Vb:<span class="pull-right text-green"><strong> {{ datos.historico.saca.prom_vb }}</strong></span></a></li>
                                {% endif %}
                                {% if datos.historico.saca.cant_tbg is defined %}
                                    <li><a href="#">Cant Tbg:<span class="pull-right text-green"><strong> {{ datos.historico.saca.cant_tbg }}</strong></span></a></li>
                                {% endif %}
                                {% if datos.historico.saca.prom_tbg is defined %}
                                    <li><a href="#">Prom Tbg:<span class="pull-right text-green"><strong> {{ datos.historico.saca.prom_tbg }}</strong></span></a></li>
                                {% endif %}
                                {% if datos.historico.saca.cant_alertas is defined %}
                                    <li><a href="#">Cant Alertas:<span class="pull-right text-green"><strong> {{ datos.historico.saca.cant_alertas }} </strong></span></a></li>
                                {% endif %}
                            </ul>
                            <ul class="nav nav-pills nav-stacked">
                                <div><i class="fa fa-arrow-down text-red"></i>&nbsp;<strong>BAJA</strong></div>
                                {% if datos.historico.baja.cant_vb is defined %}
                                    <li><a href="#">Cant Vb:<span class="pull-right text-green"><strong> {{ datos.historico.baja.cant_vb }}</strong></span></a></li>
                                {% endif %}
                                {% if datos.historico.baja.prom_vb is defined %}
                                    <li><a href="#">Prom Vb:<span class="pull-right text-green"><strong> {{ datos.historico.baja.prom_vb }}</strong></span></a></li>
                                {% endif %}
                                {% if datos.historico.baja.cant_tbg is defined %}
                                    <li><a href="#">Cant Tbg:<span class="pull-right text-green"><strong> {{ datos.historico.baja.cant_tbg }}</strong></span></a></li>
                                {% endif %}
                                {% if datos.historico.baja.prom_tbg is defined %}
                                    <li><a href="#">Prom Tbg:<span class="pull-right text-green"><strong> {{ datos.historico.baja.prom_tbg }}</strong></span></a></li>
                                {% endif %}
                                {% if datos.historico.baja.cant_alertas is defined %}
                                    <li><a href="#">Cant Alertas:<span class="pull-right text-green"><strong> {{ datos.historico.baja.cant_alertas }} </strong></span></a></li>
                                {% endif %}
                            </ul>
                        </div><!-- /.col -->
                    </div>
                </div><!-- /.row -->
            </div><!-- /.box-body -->
        </div><!-- /.box -->
    </div>
</div>

{% macro generarIndicadorLuminico(nombre, valor, tipo) %}

    {% if  valor == 0 %}
        {% set class = 'bg-red' %}
    {% elseif valor == 1 %}
        {% set class = 'bg-green' %}
    {% elseif valor == 2 %}
        {% set class = 'bg-yellow' %}
    {% endif %}


    {% if tipo == 'a' %}
        <a href="#">{{ nombre }}:<span class="pull-right badge {{ class }}">&nbsp;</span></a>
    {% else %}
        <div class="col-md-4">{{ nombre }}: <span class="badge {{ class }}">&nbsp;</span></div>
    {% endif %}
{% endmacro %}
